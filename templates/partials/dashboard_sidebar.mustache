{{!
  This file is part of Moodle - http://moodle.org/
  Moodle is free software: you can redistribute it and/or modify
  it under the terms of the GNU General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.
  Moodle is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.
  You should have received a copy of the GNU General Public License
  along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
  @template theme_compecer/partials/dashboard_sidebar

  Dashboard sidebar partial template with responsive behavior.
  En escritorio, el sidebar se muestra abierto, fijo y siempre visible (por defecto);
  en móviles, se muestra colapsado (por defecto) y se permite su toggling.
  La preferencia del usuario se recuerda usando el mecanismo de Drawer de Boost.
  
  Example context (json):
  {
    "dashboardmenuitems": [
      { "url": "#", "title": "Home", "icon": "fa-home", "active": true },
      { "url": "#", "title": "Settings", "icon": "fa-cog", "active": false }
    ],
    "sidebaropen": true   // true para escritorio, false para móviles (por defecto)
  }
}}

{{< theme_boost/drawer }}
{{$id}}dashboard_sidebar_drawer{{/id}}
{{$drawerclasses}}dashboard_sidebar drawer drawer-left {{#sidebaropen}}show{{/sidebaropen}}{{/drawerclasses}}
{{$drawercontent}}
  <div class="user_profile">
    <div class="media">
      <div class="media-body">
        <h4 class="mt-0">{{#str}}navigation, core{{/str}}</h4>
      </div>
    </div>
  </div>
  <nav class="dashbord_nav_list">
    <h2 class="sr-only">{{#str}}navigation, core{{/str}}</h2>
    <ul>
      {{#dashboardmenuitems}}
        <li>
          <a href="{{url}}" class="{{#active}}active{{/active}}">
            {{#icon}}<i class="fa {{icon}}"></i>{{/icon}}
            <span>{{title}}</span>
          </a>
        </li>
      {{/dashboardmenuitems}}
    </ul>
  </nav>
{{/drawercontent}}
{{$drawerpreferencename}}drawer-open-dashboard_sidebar{{/drawerpreferencename}}
{{$drawerstate}}show-drawer-left{{/drawerstate}}
{{$tooltipplacement}}right{{/tooltipplacement}}
{{$closebuttontext}}{{#str}}closedrawernav, theme_compecer{{/str}}{{/closebuttontext}}
{{/ theme_boost/drawer }}

<!-- Botón toggle: siempre presente para permitir togglear el sidebar -->
<div class="drawer-toggles">
<div class="drawer-toggler drawer-left-toggle d-print-none">
  <button class="btn icon-no-margin"
          data-toggler="drawers"
          data-action="toggle"
          data-target="dashboard_sidebar_drawer"
          data-toggle="tooltip"
          data-placement="right"
          title="{{#str}}opendrawernav, theme_compecer{{/str}}">
    <span class="sr-only">{{#str}}opendrawernav, theme_compecer{{/str}}</span>
    <i class="fa fa-bars"></i>
  </button>
</div>
</div>
